<ul id="mainMenu">
    {{ range $m := .MainMenu }}
    <li>
        {{ template "menu-item" $m }}
    </li>
    {{end}}
</ul>
<div>
    <h2>Register in the website</h2>
    <form method="post">
        <label for="username">Username</label>
        <input class="form-control"id="username" name="username">
        <label for="password">Password</label>
        <input class="form-control"id="password" name="password" type="password">
        <label for="confirmpassword">Confirm Password</label>
        <input class="form-control"id="confirmpassword" name="confirmpassword" type="password">
        <button class="btn" type="button" onclick="Register()">Register</button>
        <label id="success"></label>
    </form>
</div>
<script>
    function Register() {
        Post("user", "register", { "username": $("#username").val() , "password": $("#password").val()}).done(function(data) {
            $("#success").text("Register succefully, check your email to see validation link");
        }).fail(function(data) {
            if(data.status == 401) {
                $("#password").val("");
                ShowError("Invalid username or Password");
            }
            else {
                console.error(data);
            }
        });
    }
</script>